<section>
  <div class="page-header">
    <h1>{{vm.service_consumption._id ? 'Editar consumo' : 'Nuevo consumo'}}</h1>
  </div>
  <div class="pull-right">
    <a ng-show="vm.service_consumption._id" class="btn btn-primary" ng-click="vm.remove()">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>
  <div class="col-md-12">
    <form name="vm.form.service_consumptionForm" class="form-horizontal" ng-submit="vm.save(vm.form.service_consumptionForm.$valid)" novalidate>
      <fieldset>
        <div class="form-group">
          <label class="control-label" for="name">Indica que servicio registrar√°s</label>
          <br>
          <select ng-model="vm.service_consumption.service" ng-change="vm.getIdService(vm.service_consumption.service)">
              <option value="{{ item._id }}" data-type="{{ item.type }}" data-ng-repeat="item in vm.services">{{ item.name }}</option>
          </select>
        </div>
        <div class="form-group" ng-show="vm.globalService" >
          <label class="control-label" for="globalIdentifier">{{ vm.type }}</label>
          <br>
          <select ng-model="vm.service_consumption.globalIdentifier" id="globalIdentifier" ng-change="vm.showMonths()">
              <option value="{{ item._id }}" data-type="{{ item.type }}" data-ng-repeat="item in vm.data">{{ item.name }}</option>
          </select>
        </div> 
        <div class="form-group" ng-show="vm.monthData">
          <label class="control-label" for="month">Mes consumido:</label>
          <br>
          <select ng-model="vm.service_consumption.month" id="month">
              <option value="{{ item.value }}" data-ng-repeat="item in vm.months">{{ item.name }}</option>
          </select>
        </div>               
        <div class="form-group" show-errors>
          <label class="control-label" for="qty_consumed">Cantidad consumida</label>
          <input name="qty_consumed" type="text" ng-model="vm.service_consumption.qty_consumed" id="qty_consumed" class="form-control" placeholder="Ejm: 20" required autofocus>
          <div ng-messages="vm.form.service_consumptionForm.qty_consumed.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Campo requerido.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label class="control-label" for="measure">Unidad de medida</label>
          <input name="measure" type="text" ng-model="vm.service_consumption.measure" id="measure" class="form-control" placeholder="Ejemplo: Litros, Kilos, Voltios" required autofocus>
          <div ng-messages="vm.form.service_consumptionForm.measure.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Campo requerido.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label class="control-label" for="total">Total</label>
          <input name="total" type="text" ng-model="vm.service_consumption.total" id="total" class="form-control" placeholder="Title" required autofocus>
          <div ng-messages="vm.form.service_consumptionForm.total.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Campo requerido.</p>
          </div>
        </div>                
        <div class="form-group">
          <button type="submit" class="btn btn-default">{{vm.service_consumption._id ? 'Actualizar' : 'Crear'}}</button>
        </div>
      </fieldset>
    </form>
  </div>
</section>
